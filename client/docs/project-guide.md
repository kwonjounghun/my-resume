회고 요약 기능에 대해서 알려줄게
회고 요약은 회고의 STAR 내용을 요약한 문장이다. openai의 gpt-4o 모델을 사용해 자동으로 생성한다. 외부 api를 사용해 회고 요약을 생성한다.
STAR 내용은 회고의 situation, task, action, result 항목이다.
STAR 필들가 하나라도 비어있을 경우 회고 요약하기 버튼은 비활성화 된다.
회고 상세 페이지에서 요약 내용이 없을 경우 요약 필드는 노출되지 않는다.
요약을 생성할 때 STAR 내용의 핵심 키워드를 추출해 keywords에 추가한다.
키워드는 최대 10개까지 추가할 수 있어.

project model(프로젝트 모델)
- id: string
- title: string
- situation?: string
- task?: string
- action?: string
- result?: string
- createdAt: Date
- updatedAt: Date
- isPublic: boolean
- keywords?: string[]
- summary?: string
- workExperienceId: string
- startDate: string (YYYY-MM)
- endDate: string (YYYY-MM)

# 에픽: 프로젝트 관리
사용자가 자신의 프로젝트 경험을 STAR 기법으로 작성하고 관리할 수 있는 기능

## 스토리 1: 프로젝트 목록 조회
As a 신규 사용자,  
I want to 프로젝트 목록 페이지에서 내가 작성한 프로젝트들을 확인할 수 있어야 합니다.  
So that 내 프로젝트 이력을 한눈에 파악하고 관리할 수 있습니다.

### Acceptance Criteria
- Given 사용자가 /projects 페이지에 접속했을 때
  - When 작성한 프로젝트가 있다면
    - Then 프로젝트 카드 목록이 표시되어야 합니다
    - And 화면 하단에 고정된 프로젝트 추가 버튼이 표시되어야 합니다
    - And 기본적으로 프로젝트 시작일 기준 최신순으로 정렬되어야 합니다
  - When 작성한 프로젝트가 없다면
    - Then "프로젝트를 추가해보세요" 라는 메시지가 화면 중앙에 표시되어야 합니다
    - And 프로젝트 추가 버튼이 메시지 아래에 표시되어야 합니다

- Given 사용자가 프로젝트 목록의 정렬 옵션을 선택할 때
  - When "최신순" 을 선택하면
    - Then 프로젝트 시작일 기준 내림차순으로 정렬되어야 합니다
  - When "오래된순" 을 선택하면
    - Then 프로젝트 시작일 기준 오름차순으로 정렬되어야 합니다

- Given 사용자가 프로젝트 목록의 검색 옵션을 사용할 때
  - When 검색 필드 타입을 선택하면
    - Then "키워드", "회사명", "제목" 중 하나를 선택할 수 있어야 합니다
  - When 검색어를 입력하고 검색하면
    - Then 선택된 필드 타입에 따라 검색어를 포함하는 프로젝트만 표시되어야 합니다
  - When 검색 조건을 초기화하면
    - Then 모든 프로젝트가 다시 표시되어야 합니다
    - And 정렬 순서는 유지되어야 합니다

## 스토리 2: 프로젝트 상세 조회
As a 일반 사용자,  
I want to 프로젝트의 상세 내용과 STAR 요약을 확인할 수 있어야 합니다.  
So that 프로젝트 경험을 자세히 리뷰하고 활용할 수 있습니다.

### Acceptance Criteria
- Given 사용자가 프로젝트 상세 페이지(/projects/:id)에 접속했을 때
  - Then 다음 항목들이 표시되어야 합니다:
    - 필수 항목:
      - 프로젝트 제목
      - 프로젝트 기간 (시작일 - 종료일)
      - 회사명
    - 선택 항목:
      - STAR 내용 (상황, 임무, 행동, 결과)
      - 키워드 목록
      - 요약 내용
      - 공개 여부 상태
  
  - When 필수 항목이 없는 경우
    - Then "필수 정보가 누락되었습니다" 메시지가 표시되어야 합니다
    - And 수정 버튼이 강조되어 표시되어야 합니다

  - When STAR 내용이 있는 경우
    - Then 상황, 임무, 행동, 결과가 각각 구분되어 표시되어야 합니다
    - And 각 항목의 내용이 없을 경우 "내용이 없습니다" 메시지가 표시되어야 합니다

  - When 요약 내용이 있는 경우
    - Then 요약 섹션이 표시되어야 합니다
    - And 관련 키워드가 태그 형태로 표시되어야 합니다
    - And 키워드는 최대 10개까지 표시되어야 합니다

  - When STAR 내용이 모두 있고 요약이 없는 경우
    - Then 요약하기 버튼이 활성화되어야 합니다
    - When 요약하기 버튼을 클릭하면
      - Then 로딩 스피너가 표시되어야 합니다
      - And 요약과 키워드가 자동으로 생성되어야 합니다

  - When 공개 여부를 확인할 때
    - Then 공개/비공개 상태가 명확히 표시되어야 합니다

  - When 페이지 하단에서
    - Then 수정, 삭제 버튼이 고정되어 표시되어야 합니다
    - And STAR 내용이 모두 있고 요약이 없는 경우 요약하기 버튼도 함께 표시되어야 합니다

## 스토리 3: 프로젝트 등록
As a 일반 사용자,  
I want to 새로운 프로젝트 작성 페이지로 이동할 수 있어야 합니다. 
So that 내 프로젝트 경험을 체계적으로 정리하고 저장할 수 있습니다.

### Acceptance Criteria
- Given 사용자가 프로젝트 목록 페이지에서 추가 버튼을 클릭했을 때
  - Then 프로젝트 작성 플로우의 첫 단계로 이동해야 합니다

## 스토리 4: 프로젝트 수정
As a 일반 사용자,  
I want to 작성한 프로젝트의 내용을 수정할 수 있어야 합니다.  
So that 프로젝트 정보를 최신으로 유지하고 보완할 수 있습니다.

### Acceptance Criteria
- Given 사용자가 프로젝트 수정 페이지(/projects/:id/edit)에 있을 때
  - Then 기존 프로젝트 정보가 입력 필드에 표시되어야 합니다
  - When 내용을 수정하고 저장하면
    - Then 수정된 내용이 저장되어야 합니다
    - And 상세 페이지로 이동해야 합니다
  - When STAR 내용이 수정되면
    - Then 기존 요약은 초기화되어야 합니다
    - And 요약 생성 버튼이 활성화되어야 합니다

## 스토리 5: 프로젝트 삭제
As a 일반 사용자,  
I want to 불필요한 프로젝트를 삭제할 수 있어야 합니다.  
So that 프로젝트 목록을 정리하고 관리할 수 있습니다.

### Acceptance Criteria
- Given 사용자가 프로젝트 상세 페이지에서 삭제 버튼을 클릭했을 때
  - Then 삭제 확인 모달이 표시되어야 합니다
  - When 모달에서 취소를 선택하면
    - Then 모달이 닫히고 상세 페이지가 유지되어야 합니다
  - When 모달에서 삭제를 확인하면
    - Then 프로젝트가 삭제되어야 합니다
    - And 프로젝트 목록 페이지로 이동해야 합니다
    - And "프로젝트가 삭제되었습니다" 메시지가 표시되어야 합니다




# 에픽: 프로젝트 작성 플로우
사용자가 프로젝트 경험을 단계별로 작성하고 관리할 수 있는 기능

## 스토리 1: 프로젝트 기본 정보 입력
As a 신규 사용자,  
I want to 프로젝트의 기본 정보(제목, 기간, 회사명)를 입력할 수 있어야 합니다.  
So that 프로젝트의 핵심 정보를 우선적으로 설정할 수 있습니다.

### Acceptance Criteria
- Given 사용자가 프로젝트 추가 페이지(/projects/new)에 접속했을 때
  - Then step1 화면이 표시되어야 합니다
  - And 제목, 기간(시작일, 종료일), 회사명 입력 필드가 표시되어야 합니다
  - And 회사명은 드롭다운 형태로 workExperience 목록이 표시되어야 합니다

- Given 사용자가 회사명을 선택하려고 할 때
  - When workExperience 목록이 있다면
    - Then 드롭다운에 등록된 회사명 목록이 표시되어야 합니다
  - When workExperience 목록이 비어있다면
    - Then "등록된 이력이 없습니다" 메시지가 표시되어야 합니다
  - When 드롭다운 하단의 "이력 추가하기" 버튼을 클릭하면
    - Then 이력 추가 모달이 열려야 합니다
    - And 회사명, 시작일, 종료일을 입력할 수 있어야 합니다
    - When 이력 추가가 완료되면
      - Then 모달이 닫히고 드롭다운에 새로 추가된 회사가 표시되어야 합니다
      - And 새로 추가된 회사가 자동으로 선택되어야 합니다

- Given 사용자가 필수 입력 필드를 입력할 때
  - When 제목, 시작일, 종료일, 회사명이 모두 입력되면
    - Then 다음 단계 버튼이 활성화되어야 합니다
  - When 시작일이 종료일보다 늦은 날짜를 선택하면
    - Then 경고 메시지가 표시되어야 합니다
  - When 선택된 회사의 재직 기간을 벗어나는 프로젝트 기간을 입력하면
    - Then "프로젝트 기간은 회사 재직 기간 내에 있어야 합니다" 경고 메시지가 표시되어야 합니다

## 스토리 2: STAR 단계별 작성
As a 일반 사용자,  
I want to STAR 내용을 단계별로 작성할 수 있어야 합니다.  
So that 체계적으로 프로젝트 경험을 정리할 수 있습니다.

### Acceptance Criteria
- Given 사용자가 STAR 작성 단계에 있을 때
  - Then 현재 단계(Situation/Task/Action/Result)가 표시되어야 합니다
  - And 이전/다음 단계 버튼이 표시되어야 합니다
  - When 현재 단계의 내용을 입력하면
    - Then 다음 단계 버튼이 활성화되어야 합니다
  - When 마지막 단계(Result)를 완료하면
    - Then 프로젝트가 생성되어야 합니다.
    - And 프로젝트 수정 페이지(/projects/:id/edit)로 이동해야 합니다.

## 스토리 3: 작성 진행 상태 관리
As a 일반 사용자,  
I want to 작성 중인 내용이 자동 저장되고 나중에 이어서 작성할 수 있어야 합니다.  
So that 작성 중인 내용을 잃지 않고 편리하게 관리할 수 있습니다.

### Acceptance Criteria
- Given 사용자가 프로젝트를 작성하는 중일 때
  - Then 각 단계별 입력 내용이 자동으로 localStorage에 저장되어야 합니다
  
- Given 사용자가 새로운 프로젝트 작성을 시도할 때
  - When localStorage에 저장된 작성 중인 내용이 있다면
    - Then "작성 중인 프로젝트가 있습니다. 이어서 작성하시겠습니까?" 알림이 표시되어야 합니다
    - When "이어서 작성" 을 선택하면
      - Then 저장된 단계로 이동해야 합니다
    - When "새로 작성" 을 선택하면
      - Then 저장된 내용을 삭제하고 step1부터 시작해야 합니다

## 스토리 4: 작성 중단 처리
As a 일반 사용자,  
I want to 작성 중인 페이지를 벗어날 때 적절한 경고를 받고 선택할 수 있어야 합니다.  
So that 실수로 작성 중인 내용을 잃지 않을 수 있습니다.

### Acceptance Criteria
- Given 사용자가 작성 중인 페이지를 벗어나려고 할 때
  - Then "작성 중인 내용이 있습니다. 페이지를 나가시겠습니까?" 경고가 표시되어야 합니다
  - When "저장하고 나가기" 를 선택하면
    - Then 현재까지의 내용을 localStorage에 저장하고 페이지를 벗어나야 합니다
  - When "그냥 나가기" 를 선택하면
    - Then localStorage의 내용을 삭제하고 페이지를 벗어나야 합니다
  - When "취소" 를 선택하면
    - Then 현재 페이지에 머물러야 합니다
